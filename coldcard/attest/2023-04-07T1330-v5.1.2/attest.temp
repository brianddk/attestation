-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

verify.sh Version:       0.2
Intended Build Version:  2023-04-07T1330-v5.1.2
repro-build.sh Version:  2023-04-07T1330-v5.1.2
Build Command:           make -f MK4-Makefile repro

Comparing against: /tmp/checkout/firmware/releases/2023-04-07T1330-v5.1.2-mk4-coldcard.dfu
test -n "/tmp/checkout/firmware/releases/2023-04-07T1330-v5.1.2-mk4-coldcard.dfu" -a -f /tmp/checkout/firmware/releases/2023-04-07T1330-v5.1.2-mk4-coldcard.dfu
rm -f -f check-fw.bin check-bootrom.bin
signit split /tmp/checkout/firmware/releases/2023-04-07T1330-v5.1.2-mk4-coldcard.dfu check-fw.bin check-bootrom.bin
start 293 for 892928 bytes: Firmware => check-fw.bin
signit check check-fw.bin
     magic_value: 0xcc001234
       timestamp: 2023-04-07 13:30:21 UTC
  version_string: 5.1.2
      pubkey_num: 1
 firmware_length: 892928
   install_flags: 0x0 =>
       hw_compat: 0x8 => Mk4
         best_ts: b'\x00\x00\x00\x00\x00\x00\x00\x00'
          future: 0000000000000000 ... 0000000000000000
       signature: 7e5b51a12732e9af ... f1101605cdfbf850
sha256^2: 51134daee0aebc2ed5d81a7956a4e931c39ec0a85bfaaba923c38feab591e761
 ECDSA Signature: CORRECT
signit check firmware-signed.bin
     magic_value: 0xcc001234
       timestamp: 2023-06-02 01:03:10 UTC
  version_string: 5.1.2
      pubkey_num: 0
 firmware_length: 892928
   install_flags: 0x0 =>
       hw_compat: 0x8 => Mk4
         best_ts: b'\x00\x00\x00\x00\x00\x00\x00\x00'
          future: 0000000000000000 ... 0000000000000000
       signature: 684d3ef460ee153a ... 73a4100bb9ff912f
sha256^2: bd6cfa1618bc08b958d6f974417024619d0aefbb9bf6093bf55a594ada21fe83
 ECDSA Signature: CORRECT
hexdump -C firmware-signed.bin | sed -e 's/^00003f[89abcdef]0 .*/(firmware signature here)/' > repro-got.txt
hexdump -C check-fw.bin | sed -e 's/^00003f[89abcdef]0 .*/(firmware signature here)/' > repro-want.txt
diff repro-got.txt repro-want.txt

SUCCESS. 

You have built a bit-for-bit identical copy of Coldcard firmware for v5.1.2
+ set +ex
-----BEGIN PGP SIGNATURE-----

iQFEBAEBCAAuFiEEInA5woTu8wMFlVvhvyXVl6CjNXIFAmR5P9sQHGJyaWFuZGRr
QHJlZGRpdAAKCRC/JdWXoKM1ctkgB/9CSGghJt4sde24VebD1tUpJsqYA3Kd6Olv
+Wkb/xW9Iuxaw+uXwtEml3jsotb/sM0QTlJ1p93wwQQIUAa9sW0DtciC3kwlUoCW
iYQd6yc6m0h7/TAfwNQsW9Av+mUDVQ8NcZhljHHGJOoHAIUdJWXI7Q42mQnNFCZN
nTxJY82cT+iWSAMWNe5BsTbIVvjNJ1WX5iNukzN8vzcVnzrnzlB0JlcEtTVZ8LyM
4Zf+yY9ogMTjEJnelVxCznwKJF/9sEFZGykgSx8QHa3hArTX7zoke0+HvMqTM32v
eXB8l5/7TLE2rYPpuCZPUCvr65OZ8Fgiltjtm+ii1KMtzZ2M7rBO
=gGnG
-----END PGP SIGNATURE-----
